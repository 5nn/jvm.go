<!DOCTYPE html>
<html lang="en-us"><head>
<meta charset="UTF-8">
<title>Jvm.go</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="/jvm.go/stylesheets/normalize.css" media="screen">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="/jvm.go/stylesheets/stylesheet.css" media="screen">
<link rel="stylesheet" type="text/css" href="/jvm.go/stylesheets/github-light.css" media="screen">
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Jvm.go</h1>
    <h2 class="project-tagline">A JVM written in GO...</h2>
    <a href="https://github.com/zxh0/jvm.go" class="btn">View on GitHub</a>
    <a href="https://github.com/zxh0/jvm.go/zipball/master" class="btn">Download .zip</a>
    <a href="https://github.com/zxh0/jvm.go/tarball/master" class="btn">Download .tar.gz</a>
</section>

<section class="main-content">
    <h1>
        <a id="jvmgo" class="anchor" href="#jvmgo" aria-hidden="true"><span class="octicon octicon-link"></span></a>jvm.go</h1>

    <p>A JVM written in Go.
    <img src="https://raw.githubusercontent.com/zxh0/jvm.go/master/jvmgo.png" alt="jvm.go Logo"></p>

    <h1>
        <a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

    <p>jvm.go is a new JVM (which is far from complete) programmed in Go. The main purpose of this project is learning Go and the JVM. So the number one goal of the project is readability of code. The basic idea is to just implement the core JVM, and use <code>rt.jar</code> (from OpenJDK) as its class library. The garbage collector is implemented by directly using Goâ€™s GC. For me, the hardest part is <code>Thread</code> and <code>ClassLoader</code>.</p>

    <h1>
        <a id="my-dev-environment" class="anchor" href="#my-dev-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>My dev environment</h1>

    <ul>
        <li>Mac OS X 10.10.2</li>
        <li>Java 1.8.0_31</li>
        <li>Go 1.4</li>
    </ul>

    <h1>
        <a id="build-jvmgo" class="anchor" href="#build-jvmgo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build jvm.go</h1>

    <div class="highlight highlight-sh"><pre>go get github.com/zxh0/jvm.go/jvmgo</pre></div>

    <h1>
        <a id="run-jvmgo-using-your-java-installation" class="anchor" href="#run-jvmgo-using-your-java-installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run jvm.go using your Java installation</h1>

    <p>Ensure your Java version is 1.8.0_32 and JAVA_HOME env was set</p>

    <div class="highlight highlight-sh"><pre>jvmgo -XuseJavaHome -cp path/to/jars:path/to/classes HelloWorld</pre></div>

    <h1>
        <a id="run-jvmgo-using-zulu" class="anchor" href="#run-jvmgo-using-zulu" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run jvm.go using Zulu</h1>

    <p>Download <a href="http://www.azulsystems.com/products/zulu/downloads#mac">zulu1.8.0_31-8.5.0.1-macosx.zip</a> (<a href="http://www.azulsystems.com/products/zulu">Zulu</a> is a certified build of OpenJDK that is fully compliant with the Java SE standard.) and unzip it to somewhere, Copy <code>jvmgo</code> from <code>$GOPATH/bin/</code> into unzipped folder </p>

    <div class="highlight highlight-sh"><pre><span class="pl-c1">cd</span> path/to/zulu1.8.0_31-8.5.0.1-macosx
jvmgo -cp path/to/jars:path/to/classes HelloWorld</pre></div>

        <h1>
            <a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h1>

        <p>Create a Java source file, <code>Main.java</code>:</p>

        <div class="highlight highlight-java"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Main</span> {

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">main</span>(<span class="pl-smi">String</span> []<span class="pl-v">args</span>){
        <span class="pl-smi">String</span> val <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>hello world<span class="pl-pds">"</span></span>;
        <span class="pl-k">if</span>(args <span class="pl-k">!=</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> args<span class="pl-k">.</span>length <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>){
            val <span class="pl-k">=</span> args[<span class="pl-c1">0</span>];
        }
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(val);
    }
}</pre></div>

            <p>Compile <code>Main.java</code>, which will generate <code>Main.class</code>:</p>

            <div class="highlight highlight-sh"><pre>javac Main.java</pre></div>

            <p>Run with <code>jvmgo</code>:</p>

            <div class="highlight highlight-sh"><pre>jvmgo Main</pre></div>

            <p>Output:</p>

            <div class="highlight highlight-sh"><pre>hello world</pre></div>

            <footer class="site-footer">
                <span class="site-footer-owner"><a href="https://github.com/zxh0/jvm.go">Jvm.go</a> is maintained by <a href="https://github.com/zxh0">zxh0</a>.</span>

                <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
            </footer>

        </section>
</body>
</html>
